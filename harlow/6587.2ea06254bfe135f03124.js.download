"use strict";(self.webpackChunkfindagrave_frontend=self.webpackChunkfindagrave_frontend||[]).push([[6587],{8169:(e,t,a)=>{a.d(t,{Ce:()=>l,d8:()=>i,ej:()=>o});var r=a(3336),n=function(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],r=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(){function e(){/comp|inter|loaded/.test(document.readyState)?this.checkBanner():document.addEventListener("DOMContentLoaded",this.checkBanner,!1)}e.getBannersUrl=function(){var e=document.location.hostname.replace(/gravedev|gravestage|findagrave|blakef3|localhost/,"ancestry").split("."),t="";-1!==document.location.hostname.indexOf("dev")||-1!==document.location.hostname.indexOf("localhost")||-1!==document.location.hostname.indexOf("blakef3")?t="dev":-1!==document.location.hostname.indexOf("stage")&&(t="stage");var a=o("ipLoc");if(3!==e.length)return"https://www.ancestry.co.uk/Banners/API/Get/21";var r="co.uk";"www"!==e[0]?"fr-ca"===e[0]?r="fr":"es"===e[0]?r="mx":"sv"===e[0]?r="se":"pt"!==e[0]&&(r=e[0]):"us"===a&&(r="com");var n=["www","ancestry"+t,r].join(".");return"https://".concat(n).concat("/Banners/API/Get/21")},e.prototype.checkBanner=function(){if(!document.cookie.split(";").filter((function(e){return 0===e.trim().indexOf("VARS=")})).length){var t=!1,a=document.getElementById("BannerRegion");if(a)t=!0;else{(a=document.createElement("div")).id="BannerRegion";var i=document.getElementById("header-main");i.insertBefore(a,i.firstChild)}a.addEventListener("click",(function(e){if(e.target.classList.contains("closeAlert")){document.body.classList.remove("cookie-msg");var t=new Date;t.setFullYear(t.getFullYear()+20),document.cookie="VARS=NOTIFIEDOFCOOKIES=1; path=/; expires=".concat(t,"; domain=").concat(document.domain.substring(document.domain.indexOf(".")))}}));var o=new MutationObserver((function(){var e,t;document.body.classList.add("cookie-msg"),o.disconnect(),o=null;var r=a.getElementsByTagName("a");try{for(var i=n(r),l=i.next();!l.done;l=i.next()){l.value.target="_blank"}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}));o.observe(a,{childList:!0}),l([{url:"https://www.ancestrycdn.com/ui-static/lib/ajax-manager/2.0.0/ajax-manager.js",check:function(){return window.AjaxManager}},{url:"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js",check:function(){return r}}],(function(){l([{url:"https://www.ancestrycdn.com/ui/2.0.6/js/core.js",check:function(){return window.ui}}],(function(){t?window.setTimeout((function(){window.ABS||s()}),500):s()}))}))}function l(e,t){var a=0,r=0;e.forEach((function(e){e.check()||a++})),0!==a?e.forEach((function(e){e.check()||function(e,t){var a=document.getElementsByTagName("head")[0],r=document.createElement("script");r.onload=t,r.src=e,a.appendChild(r)}(e.url,(function(){++r===a&&t()}))})):t()}function s(){window.AjaxManager.send({url:e.getBannersUrl()})}}}();function i(e,t,a,r){var n="",i="path= ".concat(r&&r.length>0?r:"/",";"),o="domain=.".concat(location.hostname.replace(/^(www|en|es|it|sv|fr|fr-ca|pt|nl|sv|de)\./i,""),";");if(a){var l=new Date;l.setTime(l.getTime()+24*a*60*60*1e3),n="expires=".concat(l.toUTCString(),";")}document.cookie="".concat(e,"=").concat(t,";").concat(n).concat(i).concat(o,"SameSite=Lax;Secure;")}function o(e){var t=document.cookie.split("; ").find((function(t){return t.split("=")[0]===e}));return t?t.split("=")[1]:""}function l(){var e=o("consentSettings"),t={pref:!1,ga:!1,aa:!1};try{t=JSON.parse(e)}catch(e){}return t}},5866:(e,t,a)=>{a.d(t,{j:()=>r});a(3336);function r(e){var t="";return e.city&&(t+="".concat(e.city,", ")),e.county&&(t+="".concat(e.county,", ")),e.state&&(t+="".concat(e.state,", ")),e.country&&(t+="".concat(e.country,", ")),t.slice(0,-2)}},4203:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(1224),n=a(8169),i=a(3336),o=a(9450);const l=function(){if(i("#related").is(":checked")){var e=i("input[name=relationship]:checked").attr("id");if(i("#related-html").removeClass("hidden"),"spouse"!==e&&"cousin"!==e){var t=i("input[name=sr-"+e+"]:checked").attr("id");t?i("#relationshipType").text(i("label[for='"+t+"']").text()):(i("#sr-"+e).prop("checked",!0),i("#relationshipType").text(i("label[for='"+e+"']").text()))}else i("#relationshipType").text(i("label[for='"+e+"']").text())}else i("#related-html").addClass("hidden");i(document).on("click","input[name=related]",(function(){i("#recentlyDeceasedError").hide(),("memorial-detail-form"===findagrave.viewId||"memorial-edit"===findagrave.viewId)&&(0,n.Ce)().pref&&"true"!==(0,n.ej)("defaultRelationshipNo")&&(0,n.d8)("defaultRelationshipNo","true",Math.floor(182.5)),i(this).is(":checked")&&"Yes"==this.value?(i("#related-html").removeClass("hidden"),i("input[name=relationship]:checked").length>0&&i("#addContributorRelationship").removeClass("hidden")):(i("#related-html").addClass("hidden"),i("#addContributorRelationship").addClass("hidden"),i("#show-relationship-html").addClass("hidden"),i("input[name=relationship]").prop("checked",!1),i(".default-option").prop("checked",!0).trigger("click"),i(".sub-options").removeClass("d-block"),i(".options-btn").text(i(this).closest(".choose-options").find(".options-btn").attr("data-options")),i("#relationshipType").text(""),i(".choose-options").removeClass("active"))})),i(document).on("click","input[name=relationship]",(function(){i("#addContributorRelationship").removeClass("hidden"),i("#show-relationship-html").removeClass("hidden"),i("#relationshipError").hide(),i(this).closest(".choose-options").hasClass("active")||(i(".default-option").prop("checked",!0).trigger("click"),i(".sub-options").removeClass("d-block"),i(".options-btn").text(i(this).closest(".choose-options").find(".options-btn").attr("data-options")),i("#relationshipType").text(i("label[for='"+i(this).attr("id")+"']").text()),i(".choose-options").removeClass("active"),i(this).closest(".choose-options").addClass("active"))})),i(document).on("click",".options-btn",(function(){i(this).next(".sub-options").hasClass("d-block")?(i(this).next(".sub-options").removeClass("d-block"),i(this).text(i(this).attr("data-options"))):(i(this).next(".sub-options").addClass("d-block"),i(this).text(i(this).attr("data-hide")))})),i(document).on("click","input[name=sr-sibling], input[name=sr-child], input[name=sr-auntuncle], input[name=sr-parent], input[name=sr-niecenephew], input[name=sr-grandchild], input[name=sr-grandparent]",(function(){i("#relationshipType").text(i("label[for='"+i(this).attr("id")+"']").text());var e=i(this).attr("name").split("-")[1];i("label[for='"+e+"']").text(i("label[for='"+i(this).attr("id")+"']").text())})),i(document).on("click",".openContributorRelationshipModal",(function(e){e.preventDefault(),e.stopPropagation();var t={name:i(this).attr("data-firstname")||i(this).attr("data-fullname"),shortInterval:i(this).attr("data-shortinterval"),publicName:i(this).attr("data-publicname"),creator:"true"==i(this).attr("data-shortinterval")},a=o.render(t);i("#recently-deceased-modal-container").html(a),i("#addContributorRelationship").attr("data-memorialid",i(this).attr("data-memorialid")).attr("data-nameforurl",i(this).attr("data-nameforurl")),i("#why-do-we-ask-relationship").popover({html:!0}),i("#recentlyDeceased").modal("show")})),i("#recentlyDeceased").on("hide.bs.modal",(function(){i("#why-do-we-ask-relationship").popover("dispose"),i("#addContributorRelationship").removeAttr("data-memorialid").removeAttr("data-nameforurl")})),i("#addContributorRelationship").on("click",(function(){i("#addContributorRelationship").addClass("disabled").prop("disabled",!0),i("#manageTooManyRelatedMemorials").html("").hide();var e=i(this).attr("data-memorialid"),t=i(this).attr("data-nameforurl"),a={related:i("input[name=related]:checked").val(),relationship:i("input[name=relationship]:checked").val(),relationshipPublic:i("#relationshipPublic").is(":checked")?"on":""};a["sr-"+a.relationship]="spouse"!==a.relationship&&"cousin"!==a.relationship?i("input[name=sr-"+i("input[name=relationship]:checked").val()+"]:checked").val():"",i.ajax({url:"/memorial/"+e+"/add-contributor-relationship",method:"POST",data:a,success:function(a){if("ManageTooManyRelatedMemorials"==a.error){var n=i("input[name=relationship]:checked").val(),o=r.Z.t("mem.ovr.TooManyManagedError",{relationship:i("label[for="+n+"]").text().toLowerCase()});i("#manageTooManyRelatedMemorials").html(o).show(),i("#addContributorRelationship").removeClass("disabled").prop("disabled",!1)}else new RegExp("/memorial/"+e+"/").test(location.pathname)?(location.hash="memorial-transferred",location.reload()):location.href="/memorial/"+e+"/"+t+"#memorial-transferred"},error:function(){i("#addContributorRelationship").removeClass("disabled").prop("disabled",!1)}})}))}},5609:(e,t,a)=>{a.d(t,{Z:()=>o});var r=a(3336),n=a(5504);var i=a(3336);function o(){i(".st-an").on("click",(function(){var e=findagrave.defaultPhotoToShare;findagrave.photoToShare&&(e=findagrave.photoToShare),i(".st-icons").addClass("on"),i(this).addClass("active").siblings().removeClass("active");var t="";findagrave.cemeteryCityName&&(t+=findagrave.cemeteryCityName+", "),findagrave.cemeteryCountyName&&(t+=findagrave.cemeteryCountyName+", "),findagrave.cemeteryStateName&&(t+=findagrave.cemeteryStateName+", "),"USA"==findagrave.cemeteryCountryAbbrev?t+="USA":findagrave.cemeteryCountryName&&(t+=findagrave.cemeteryCountryName);var a={repositoryDomain:"www.findagrave.com",source:{title:"Findagrave",publisherName:"",publishedDate:findagrave.deathDate,publishedLocation:t},citation:{title:findagrave.shareTitle,url:findagrave.linkToShare},media:{url:e,note:""}};i("#closeSaveTo").trigger("click"),SaveToAncestryApi.invoke(a)})),i(".st-vc").on("click",(function(){i(".st-icons").addClass("on"),i(this).addClass("active").siblings().removeClass("active"),i("#add-to-vc").collapse("toggle"),i("#vc-footer").removeClass("hidden")})),i(".st-cl").on("click",(function(){i("#vc-footer").addClass("hidden"),i("#add-to-vc").hasClass("show")&&i("#add-to-vc").collapse("toggle")})),i(".st-vcn").on("click",(function(){i("#saveTo").modal("hide")})),i("#add-to-vc").on("hide.bs.collapse",(function(){i(".st-vc").hasClass("active")&&(i(".st-vc").removeClass("active"),i(".st-icons").removeClass("on"))})),i("#saveTo").on("hidden.bs.modal",(function(){i("#vc-footer").addClass("hidden"),i(".st-an").removeClass("active").siblings().removeClass("active"),i(".st-icons").removeClass("on"),i("#add-to-vc").hasClass("show")&&i("#add-to-vc").collapse("toggle"),findagrave.toPrint&&(window.print(),findagrave.toPrint=!1)})),i(".icon-print").on("click",(function(){findagrave.toPrint=!0,i("#saveTo").modal("hide")})),i(document).on("click",".add-to-my-virtual-cemetery",(function(){var e;e=findagrave.memorialId,r.ajax({url:"/virtual-cemetery/search?ajax=true",data:{limit:findagrave.limit||20,skip:0},method:"GET",success:function(t){"undefined"!=t.count?t.count>0?r.ajax({url:"/memorial/virtual-cemetery?memorialId="+e,method:"GET",success:function(e){if(200==e.status){!t.collection&&(t.collection=t.cemeteries),t.privateText=findagrave.i18nPrivateText,r.each(e.result,(function(e,a){r.each(t.collection,(function(e,t){parseInt(a.virtualCemeteryId)==parseInt(t.virtualCemeteryId)&&(t.memberOf=!0)}))}));var a=n.render(t);r(".virtual-select-loop").html(a)}else r(".virtual-select-loop").html(findagrave.i18nServerError)},error:function(e){r(".virtual-select-loop").html(findagrave.i18nServerError)}}):r(".virtual-select-loop").html(findagrave.i18nNoVirtualCemetery):r(".virtual-select-loop").html(findagrave.i18nServerError)},error:function(e){r(".virtual-select-loop").html(findagrave.i18nServerError)}}),i("#newVirtualCemetery-input").val(""),i("#newVirtualCemetery-input").addClass("hidden"),i("#newVirtualCemetery-btn").show()})),i(document).on("click",".btn-save-myvirtual-cemetery",(function(){var e=i('input[name="virtualcemeteryids"]:checkbox:checked').map((function(){return this.value})).get();function t(t){0==e.length&&(e=new Array),function(e,t){r.ajax({method:"POST",url:"/memorial/add-to-virtual-cemetery",data:e,success:function(e){t(e)},error:function(){t(findagrave.i18nServerError)}})}({memorialId:findagrave.memorialId,contributorId:findagrave.contributorId,virtualCemeteryIds:e.join(",")},(function(e){t(e)}))}""!=i("#newVirtualCemetery-input").val().trim()?i.ajax({method:"POST",url:"/virtual-cemetery/create",data:{name:i("#newVirtualCemetery-input").val().trim(),ajax:"true"},success:function(a){"success"===a.status?(e.push(a.cemeteryId),t((function(){window.location.href="/virtual-cemetery/"+a.cemeteryId}))):403==a.status?i(".virtual-select-loop").html(findagrave.i18nTooMany):i(".virtual-select-loop").html(findagrave.i18nServerError)}}):t((function(e){"success"==e.status?i("#saveTo").modal("hide"):i(".virtual-select-loop").html(findagrave.i18nServerError)}))})),a.e(2152).then(a.t.bind(a,8175,23)).then((function(e){var t=new(0,e.default)(".clipboardBtn",{container:document.getElementById("saveTo"),text:function(){function e(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}var t="";if(i("#bio-name").text()&&(t+=i(".bio-name").text().trim()+"\r\n"),i("#birthLabel").text()&&(i("#birthDateLabel").text()||i("#birthLocationLabel").text())&&(t+=i("#birthLabel").text()+":",i("#birthDateLabel").text()&&(t+=" "+i("#birthDateLabel").text()),i("#birthLocationLabel").text()&&(t+=" "+i("#birthLocationLabel").text()),t+="\r\n"),i("#deathLabel").text()&&(i("#deathDateLabel").text()||i("#deathLocationLabel").text())&&(t+=i("#deathLabel").text()+":",i("#deathDateLabel").text()&&(t+=" "+i("#deathDateLabel").text()),i("#deathLocationLabel").text()&&(t+=" "+i("#deathLocationLabel").text()),t+="\r\n"),i("#cemeteryLabel").text()&&(t+=i("#cemeteryLabel").text()+": ",i("#cemeteryNameLabel").text()&&(t+=i("#cemeteryNameLabel").text()),i("#cemeteryCityName").text()&&(t+=", "+i("#cemeteryCityName").text()+", "),i("#cemeteryCountyName").text()&&(t+=i("#cemeteryCountyName").text()+", "),i("#cemeteryStateName").text()&&(t+=i("#cemeteryStateName").text()+", "),i("#cemeteryCountryName").text()&&(t+=i("#cemeteryCountryName").text()+"\r\n"),i("#otherPlace").text()&&(t+=i("#otherPlace").text()+"\r\n"),i("#plotLabel").text()&&i("#plotValueLabel").text()&&(t+=i("#plotLabel").text()+": "+i("#plotValueLabel").text()+"\r\n"),i("#plotNumber").text()&&i("#plotNumberLabel").text()&&(t+=i("#plotNumber").text()+": "+i("#plotNumberLabel").text()+"\r\n"),i("#gpsLabel").text()&&i("#gpsValue").text()&&(t+=i("#gpsLabel").text()+": "+i("#gpsValue").text()+"\r\n")),i("#memNumberLabel").text()&&(t+="Memorial #: "+i("#memNumberLabel").text()+"\r\n"),i("#fullBio").text()&&(t+="Bio: "+e(i("#fullBio").html().replace(/<br>/g,"\r\n").replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n"))+"\r\n"),i("#inscriptionLabel").text()&&i("#inscriptionValue").text()&&(t+=i("#inscriptionLabel").text()+": "+e(i("#inscriptionValue").html().replace(/<br>/g,"\r\n").replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n"))+"\r\n"),i("#gravesite-details").text()&&(t+=e(i("#gravesite-details").html().replace(/<br>/g,"\r\n").replace(/<br\/>/g,"\r\n").replace(/<br \/>/g,"\r\n"))+"\r\n"),i("#familyLabel").text()){if(t+=i("#familyLabel").text()+"\r\n",i("#parentsLabel").text())t+=a("#parentsLabel");if(i("#spouseLabel").text())t+=a("#spouseLabel");if(i("#siblingLabel").text())t+=a("#siblingLabel");if(i("#halfSibLabel").text())t+=a("#halfSibLabel");if(i("#childrenLabel").text())t+=a("#childrenLabel")}return i("#maintainedBy").val()&&(t+=i("#maintainedBy").val()+"\r\n"),i("#importedFrom").val()&&(t+=i("#importedFrom").val()+"\r\n"),i("#createdBy").val()&&(t+=i("#createdBy").val()+"\r\n"),i("#transcribedBy").val()&&(t+=i("#transcribedBy").val()+"\r\n"),i("#originallyCreatedBy").val()&&(t+=i("#originallyCreatedBy").val()+"\r\n"),i("#addedDate").val()&&(t+=i("#addedDate").val()+"\r\n"),t+="URL: "+window.location.href.split("#")[0]+"\r\n",i("#citationInfo").text()&&(t+="Citation: "+i("#citationInfo").text().trim().replace(/\r/g,"").replace(/\n/g,"").replace(/\s\s+/g," ")+"\r\n"),t.replace(/<[^>]*>?/gm,"")}});function a(e){var t="\t"+i(e).text()+"\r\n";return i(e).next().children("li").each((function(){var e=i(this).find("h3").text().replace(/\r\n|\r|\n/gm,"");t+="\t\t"+e+"\t";var a=i(this).find("#familyBirthLabel").text(),r=i(this).find("#familyDeathLabel").text();t+=a||r?a&&r?a+"-"+r+"\r\n":a?a+"-Unknown\r\n":"Unknown-"+r+"\r\n":i(this).find("#familyBirthDeathLabel").text()+"\r\n"})),t}t.on("success",(function(e){i("#clipboardSuccess").removeClass("hidden");setTimeout((function(){i("#clipboardSuccess").addClass("hidden")}),3e3)})),t.on("error",(function(e){i("#clipboardFailure").removeClass("hidden");setTimeout((function(){i("#clipboardFailure").addClass("hidden")}),3e3)}))}))}},9268:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(3336),n=a(653);const i=function(){r("#mergeMemorial").on("click",(function(){r("#invalidId").addClass("hidden"),r("#invalidInput").addClass("hidden"),r("#differentGender").addClass("hidden"),r("#sameId").addClass("hidden"),r("#alreadyMerged").addClass("hidden"),r("#alreadyDeleted").addClass("hidden");var e=r("#mergeId").val();e=Number(e.trim()),isNaN(e)?r("#invalidInput").removeClass("hidden"):e!=findagrave.memorialId?r("#merge-wrapper").hasClass("hidden")?window.location.href="/memorial/merge/"+findagrave.memorialId+"/"+e:r.ajax({url:"/memorial/merge-limited-info/"+findagrave.memorialId+"/"+e,data:{ajax:!0},success:function(e){if(e&&e.memorialSummary)if(e.memorialSummary.mergedInto&&0==e.memorialSummary.apStat)r("#alreadyMerged").removeClass("hidden");else if(0==e.memorialSummary.apStat)r("#alreadyDeleted").removeClass("hidden");else{r("#merge-wrapper").addClass("hidden"),r("#mergeMemorial").text(r("#mergeMemorial").attr("data-review"));var t=n.render(e);r("#suggestMergeMemorialInfo").html(t),"cenotaph"==e.existing&&(r("#mergeIsCenotaph").removeClass("hidden"),r("#mergeMemorial").addClass("hidden")),"memorialSite"==e.existing&&(r("#mergeIsMemorial").removeClass("hidden"),r("#mergeMemorial").addClass("hidden")),"inQueue"===e.existing&&(r("#mergeInQueue").removeClass("hidden"),r("#mergeMemorial").addClass("hidden")),"bothFamous"===e.existing&&(r("#mergeBothFamous").removeClass("hidden"),r("#mergeMemorial").addClass("hidden")),e.memorialSummary.gender&&findagrave.gender&&e.memorialSummary.gender!=findagrave.gender&&r("#differentGender").removeClass("hidden")}else r("#invalidId").removeClass("hidden")}}):r("#sameId").removeClass("hidden")})),r("#suggestMerge").on("hidden.bs.modal",(function(){r("#merge-wrapper").removeClass("hidden"),r("#suggestMergeMemorialInfo").html(""),r("#mergeId").val(""),r("#merge-wrapper").removeClass("hidden"),r("#mergeMemorial").removeClass("hidden"),r("#mergeMemorial").text(r("#mergeMemorial").attr("data-continue"))})),r(document).on("click","#changeMergeId",(function(e){e.preventDefault(),e.stopPropagation(),r("#suggestMergeMemorialInfo").html(""),r("#mergeId").val(""),r("#merge-wrapper").removeClass("hidden"),r("#mergeMemorial").removeClass("hidden"),r("#mergeMemorial").text(r("#mergeMemorial").attr("data-continue"))}))}}}]);