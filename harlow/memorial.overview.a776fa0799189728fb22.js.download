(self.webpackChunkfindagrave_frontend=self.webpackChunkfindagrave_frontend||[]).push([[5057,5070],{7351:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/macro/relationshipError.html"]={root:function(e,t,o,a,s){try{var r=a.makeMacro(["relationshipType"],[],(function(s,r){var n=o;o=new a.Frame,r=r||{},Object.prototype.hasOwnProperty.call(r,"caller")&&o.set("caller",r.caller),o.set("relationshipType",s);var l="";return l+="\n","parent"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedParents:Your relationship has not been saved because you have reached the maximum number of allowed parents."),e.opts.autoescape),l+="\n"):"child"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedChildren:Your relationship has not been saved because you have reached the maximum number of allowed children."),e.opts.autoescape),l+="\n"):"sibling"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedSiblings:Your relationship has not been saved because you have reached the maximum number of allowed siblings."),e.opts.autoescape),l+="\n"):"spouse"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedSpouses:Your relationship has not been saved because you have reached the maximum number of allowed spouses."),e.opts.autoescape),l+="\n"):"grandparent"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedGrandparents:Your relationship has not been saved because you have reached the maximum number of allowed grandparents."),e.opts.autoescape),l+="\n"):"grandchild"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedGrandchildren:Your relationship has not been saved because you have reached the maximum number of allowed grandchildren."),e.opts.autoescape),l+="\n"):"cousin"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedCousins:Your relationship has not been saved because you have reached the maximum number of allowed cousins."),e.opts.autoescape),l+="\n"):"auntuncle"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedAuntsUncles:Your relationship has not been saved because you have reached the maximum number of allowed aunts and uncles."),e.opts.autoescape),l+="\n"):"niecenephew"==s?(l+="\n  ",l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RelationshipNotAddedNiecesNephews:Your relationship has not been saved because you have reached the maximum number of allowed nieces and nephews."),e.opts.autoescape),l+="\n"):l+="\n",l+="\n",o=n,new a.SafeString(l)}));t.addExport("relationshipError"),t.setVariable("relationshipError",r),s(null,"")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/macro/relationshipError.html"],r)},8962:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/memorials/flower-item.html"]={root:function(e,t,o,a,s){var r="";try{r+='<div class="board-item flower-board-item',a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&(r+=" css--my-flower"),r+='" itemscope itemtype="https://schema.org/ImageGallery">\n        <div class="flower-item ',a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")&&a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")!=a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteTextShort")&&(r+=" cursor-hand "),r+='">\n            <div class="flower-item--pic">\n                <img class="flower-img lazyload" data-src="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"fileName"),e.opts.autoescape),r+='" alt="" itemprop="image">\n                ',a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"approvalStatusImg")&&(r+='\n                <img class="flower-img lazyload" data-src="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"approvalStatusImg"),e.opts.autoescape),r+='" alt="Flower left by ">\n                '),r+='\n            </div>\n            <div class="flower-item--info">\n                <p class="flower-text">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteTextShort")),e.opts.autoescape),a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")&&a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")!=a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteTextShort")&&(r+='<a class="flower-item" aria-hidden="true"><span class="btn btn-link">',r+=a.suppressValue(e.getFilter("i18n").call(t,"flower.grid.ReadMore:Read more"),e.opts.autoescape),r+="</span></a>"),r+='</p>\n                <p itemprop="description" class="full-flower-text hidden">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")),e.opts.autoescape),r+=" ",a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")&&a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")!=a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteTextShort")&&(r+=' <a class="flower-item" aria-hidden="true"><span class="btn btn-link">',r+=a.suppressValue(e.getFilter("i18n").call(t,"flower.grid.ReadLess:Read less"),e.opts.autoescape),r+="</span></a> "),r+='</p>\n                <div class="hidden publicNoteDesc">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicNoteText")),e.opts.autoescape),r+='</div>\n                    <p class="flower-regards text-muted">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeftBy:Left by"),e.opts.autoescape),r+="\n                        ","N"==a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"isPublic")?r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Anonymous:Anonymous"),e.opts.autoescape):(r+='<a class="flower-by" href="/user/profile/',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"contributorId"),e.opts.autoescape),r+='">',"Y"==a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"isPublic")?(r+='<span itemprop="contributor">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"publicName")),e.opts.autoescape),r+="</span>"):"A"==a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"isPublic")&&(r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"alternateSignature")),e.opts.autoescape)),r+="</a>"),r+=" ",r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,"mem.ovr.onDate: on {{date}}",{date:a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"formattedDate")})),e.opts.autoescape),r+="</span>\n                    </p>\n                </div>\n        </div>\n        ",a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&(r+='<button data-bs-toggle="modal" data-bs-target="#confirmFlowerDelete" class="btn btn-sm btn-default icon-trash delete-flower d-print-none" data-flower-id="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"flowerId"),e.opts.autoescape),r+='" type="button">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Delete:Delete"),e.opts.autoescape),r+="\n            </button>\n        "),r+='\n        <div class="flower-item--controls d-print-none">\n            <div class="inline-links">\n                <div class="icon-arrowdownafter"></div>\n                <ul class="sub-nav-list shadow">\n                    <li>\n                        <a ',a.contextOrFrameLookup(t,o,"contributorId")?r+='href="javascript:void(0)" class="addToScrapbook" ':r+=" href=\"#prompt-signup\" data-bs-toggle='modal' ",r+=' data-id="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"bouquetTypeId"),e.opts.autoescape),r+='" role="button">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddFlowerToScrapBook:Add to Scrapbook"),e.opts.autoescape),r+='</a>\n                    </li>\n                    <li><span class="report flowerReported-',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"flowerId"),e.opts.autoescape),r+='">',"Abuse Approved"==a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"approvalStatus")?r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Reported:Reported!"),e.opts.autoescape):(r+="<a ",a.contextOrFrameLookup(t,o,"contributorId")?r+=' href="#reportFlower" data-bs-toggle="modal" class="reportFlowerButton" ':r+=" href=\"#prompt-signup\" data-bs-toggle='modal'",r+=' data-id="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"item"),"flowerId"),e.opts.autoescape),r+='" role="button">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Report:Report abuse"),e.opts.autoescape),r+=" ",r+="</a>"),s(null,r+="</span>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/memorials/flower-item.html"],r)},5852:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/memorials/flowersDisabled.html"]={root:function(e,t,o,a,s){var r="";try{a.contextOrFrameLookup(t,o,"flowerPage")&&(r+='\n<section class="container">\n\t<div class="row">\n\t\t',r+='\n\t\t<div class="col-sm-6 offset-sm-3">\n\t\t\t<h1 class="text-primary">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Flowers:Flowers"),e.opts.autoescape),r+="</h1>\n\t\t\t","Y"==a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"stillLiving")?(r+='\n\t\t\t<p class="text-muted"><span class="icon-warning text-warning"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.FlowersDisabledMsg2:Virtual Flowers have been disabled for this memorial because this person is still living."),e.opts.autoescape),r+="</p>\n\t\t\t"):"Y"==a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"noMoreFlowers")&&(r+='\n\t\t    <p class="text-muted"><span class="icon-warning text-warning"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.FlowersDisabledMsg:Virtual Flowers have been turned off for this memorial."),e.opts.autoescape),r+="</p>\n\t\t\t"),r+="\n\n\t\t</div>\n\t</div>\n</section>\n"),s(null,r+="\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/memorials/flowersDisabled.html"],r)},2934:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["../memorials/flower-item.html"]=o(8962);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/memorials/flowersScroll.html"]={root:function(e,t,o,a,s){var r="";try{if(a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")>0){r+="\n",r+='\n<div class="list-item-page ',a.contextOrFrameLookup(t,o,"fade")&&(r+="fade"),r+='" data-url="page=',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"page"),e.opts.autoescape),r+='">\n    ',a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")<a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"count")&&(r+="\n        ",a.contextOrFrameLookup(t,o,"page")&&(r+=' \n        <div class="paging-divide" id="srppage',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"page"),e.opts.autoescape),r+='">\n            <span>',r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,"mem.ovr.PageNum:Page {{page}}",{page:a.contextOrFrameLookup(t,o,"page")})),e.opts.autoescape),r+="</span>\n        </div>\n        "),r+="\n    "),r+="\n</div>\n    ",o=o.push();var n=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("item",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+="\n    ",r+="\n     ";var u=[];u.push((function(t){e.getTemplate("../memorials/flower-item.html",!1,"public/templates/memorials/flowersScroll.html",!1,(function(e,o){e?s(e):t(null,o)}))})),u.push((function(e,a){e.render(t.getVariables(),o,(function(e,t){e?s(e):a(null,t)}))})),u.push((function(e,t){r+=e,t(null)})),e.waterfall(u,(function(){r+="\n    "}))}o=o.pop(),r+="\n    ",r+="\n"}s(null,r+="\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/memorials/flowersScroll.html"],r)},5561:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/memorials/photosScroll.html"]={root:function(e,t,o,a,s){var r="";try{if(a.memberLookup(a.contextOrFrameLookup(t,o,"collection"),"length")>0){r+="\n",o=o.push();var n=a.contextOrFrameLookup(t,o,"collection");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("item",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+='\n<div class="col-12 col-sm-6 col-md-4 col-lg-3 board-item photos-board-item ',a.memberLookup(i,"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&(r+="css--my-photo"),r+='"   data-bs-toggle="modal" data-bs-target="#view-photo" itemscope itemtype="https://schema.org/ImageGallery">\n\n    <div class="board-item--inner">\n        <div class="board-item---header">\n            <button class="close-btn" aria-label="',r+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.Close:Close"),e.opts.autoescape),r+='" type="button"><span aria-hidden="true">&times;</span></button>\n            <div class="board-item---img"  data-bs-target="#photoViewer" data-photo-id="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">\n                <img data-src="',r+=a.suppressValue(a.memberLookup(i,"fileName"),e.opts.autoescape),r+='" alt="" itemprop="image" class="lazyload" data-imgphoto-id="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">\n            </div>\n        </div>\n        <div class="board-item---body">\n            ',r+="\n            ",(a.memberLookup(i,"caption")||a.memberLookup(i,"publicNote"))&&(r+='\n            <div class="caption-text">\n                ',r+='\n                    <p class="img-caption" itemprop="description">',a.memberLookup(i,"caption")&&(r+='<b itemprop="name">',r+=a.suppressValue(a.memberLookup(i,"caption"),e.opts.autoescape),r+=" - </b> "),r+=a.suppressValue(e.getFilter("truncateHtml").call(t,a.memberLookup(i,"publicNote"),70),e.opts.autoescape),r+="</p>\n                ",r+="\n            </div>\n            "),r+="\n            ",r+='\n            <p class="img-credits" itemprop="contributor">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(i,"addedBy")),e.opts.autoescape),r+="</p>\n\n        </div>\n    </div>\n</div>\n"}o=o.pop(),r+="\n"}s(null,r+="\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/memorials/photosScroll.html"],r)},535:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/ads/adsMain.html"]={root:function(e,t,o,a,s){var r=0,n=0,l="";try{var p=a.makeMacro(["class","id","adText","removeAds","testAds","userLocation","textOnTop"],[],(function(s,l,p,i,u,m,c,d){var b=o;o=new a.Frame,d=d||{},Object.prototype.hasOwnProperty.call(d,"caller")&&o.set("caller",d.caller),o.set("class",s),o.set("id",l),o.set("adText",p),o.set("removeAds",i),o.set("testAds",u),o.set("userLocation",m),o.set("textOnTop",c);var h="";return h+="\n","Y"!=i&&(h+='\n<input type="checkbox" class="closerad" id="closer-',h+=a.suppressValue(l,e.opts.autoescape),h+='">\n<div class="',h+=a.suppressValue(s,e.opts.autoescape),h+=" d-print-none ",s&&(r=3,n=72,a.callWrap(a.memberLookup(s,"includes"),'class["includes"]',t,["scroll-prad"]))||(h+="position-relative"),h+='">\n    ',c&&(h+="\n    <p class='ad-text'>",h+=a.suppressValue(p,e.opts.autoescape),h+="</p>\n    "),h+='\n    <label for="closer-',h+=a.suppressValue(l,e.opts.autoescape),h+='" class="btn-close d-sm-none position-absolute top-0 end-0" aria-label="',h+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.Close:Close"),e.opts.autoescape),h+='" tabindex="0"></label>\n    ',"Y"!=u?(h+="\n    <div id='",h+=a.suppressValue(l,e.opts.autoescape),h+='\' class="ad-wrapper"></div>\n    '):(h+="\n    <div id='test-",h+=a.suppressValue(l,e.opts.autoescape),h+='\' class="ad-wrapper"></div>\n    '),h+="\n    ",c||(h+="\n    <p class='ad-text'>",h+=a.suppressValue(p,e.opts.autoescape),h+="</p>\n    "),h+="\n</div>\n"),h+="\n",o=b,new a.SafeString(h)}));t.addExport("adContent"),t.setVariable("adContent",p),l+="\n\n";var i=a.makeMacro(["contributorId","memorialId","adText","isFamous","removeAds","userLocation","sendFlowersURL","flowerText"],[],(function(t,s,r,n,l,p,i,u,m){var c=o;o=new a.Frame,m=m||{},Object.prototype.hasOwnProperty.call(m,"caller")&&o.set("caller",m.caller),o.set("contributorId",t),o.set("memorialId",s),o.set("adText",r),o.set("isFamous",n),o.set("removeAds",l),o.set("userLocation",p),o.set("sendFlowersURL",i),o.set("flowerText",u);var d="";return d+="\n    ",i&&(d+='\n        <a href="',d+=a.suppressValue(i,e.opts.autoescape),d+='" class="btn btn-outline-primary send-flowers-button mb-4 mb-md-2" target="_blank"><span class="icon-flowers" aria-hidden="true"></span>',d+=a.suppressValue(u,e.opts.autoescape),d+="</a>\n    "),d+="\n    ","Y"!=n&&"Y"!=l?(d+="\n        <a ",t>0?(d+='href="/memorial/',d+=a.suppressValue(s,e.opts.autoescape),d+='/sponsor"'):(d+='href="#prompt-signup" data-bs-toggle="modal" data-url="/memorial/',d+=a.suppressValue(s,e.opts.autoescape),d+='/sponsor"'),d+=' class="btn btn-outline-primary fg-spn-link mb-2"><span class="icon-tag" aria-hidden="true"></span>',d+=a.suppressValue(r,e.opts.autoescape),d+="</a>\n    "):d+='\n        <div class="fg-spn-link"></div>\n    ',d+="\n",o=c,new a.SafeString(d)}));t.addExport("sponsorContent"),t.setVariable("sponsorContent",i),s(null,l+="\n")}catch(e){s(a.handleError(e,r,n))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/ads/adsMain.html"],r)},6435:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/flowerCount.html"]={root:function(e,t,o,a,s){var r="";try{r+='<div id="characterCount" class="flower-character-count">',r+=a.suppressValue(e.getFilter("__nf").call(t,{singular:"ovr.lf.CharactersRemaining:{{nf}} character remaining",plural:"{{nf}} characters remaining"},a.contextOrFrameLookup(t,o,"flowerLimit")),e.opts.autoescape),s(null,r+="</div>")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/flowerCount.html"],r)},9916:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["../../memorials/flower-item.html"]=o(8962);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/flowersGrid.html"]={root:function(e,t,o,a,s){var r="";try{if(r+='<div class="overview-panel--heading">\n    <div class="row">\n        <div class="col-sm-8"><h2 class="overview-label h3">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Flowers:Flowers"),e.opts.autoescape),r+="\n    ",a.contextOrFrameLookup(t,o,"count")>1&&(r+='<span class="flowerCount text-muted">&bullet; ',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"count"),e.opts.autoescape),r+="</span>"),r+='</h2>\n        </div>\n\n        <div class="text-end col-sm-4">\n            ',"Y"!=a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"removeAds")&&0==a.contextOrFrameLookup(t,o,"plantTreesScenario")&&(r+='\n                <span class="ad-text">In their memory</span><br>\n                <a href="https://sympathy.legacy.com/en-us/funeral-flowers/productdetails/?affiliateid=0&v=01&sku=tre-tim&pm=290&utm_source=findagrave&utm_medium=referral&utm_campaign=memorial&utm_content=Flowers_PlantAMemorialTree" target="_blank">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PlantMemorialTrees:Plant Memorial Trees"),e.opts.autoescape),r+="</a>\n            "),r+="\n        </div>\n    </div>\n</div>\n",a.memberLookup(a.contextOrFrameLookup(t,o,"flowers"),"length")>0){r+='\n<div class="overview-panel--body data-filled-user">\n    <div class="flower-list board-list flowers-board-list">\n        ',o=o.push();var n=a.contextOrFrameLookup(t,o,"flowers");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];if(o.set("item",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+="\n        ",a.memberLookup(a.contextOrFrameLookup(t,o,"loop"),"index")<3){r+="\n            ";var u=[];u.push((function(t){e.getTemplate("../../memorials/flower-item.html",!1,"public/templates/partials/component/flowersGrid.html",!1,(function(e,o){e?s(e):t(null,o)}))})),u.push((function(e,a){e.render(t.getVariables(),o,(function(e,t){e?s(e):a(null,t)}))})),u.push((function(e,t){r+=e,t(null)})),e.waterfall(u,(function(){r+="\n        "}))}r+="\n        "}o=o.pop(),r+="\n    </div>\n</div>\n"}else r+='\n<div class="overview-panel--body data-filled-none loadingImg d-print-none">\n    <div class="blankslate d-print-none border-none">\n\n        <a class=\'btn btn-default add-flowers\' href=',a.contextOrFrameLookup(t,o,"contributorId")>0?r+="'#leaveFlower'":r+="'#prompt-signup'",r+=" data-bs-toggle='modal'>\n            <span class='icon-flowers' aria-hidden=\"true\"></span> ",r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveFlower:Leave a Flower"),e.opts.autoescape),r+="\n        </a>\n    </div>\n</div>\n";r+="\n",a.contextOrFrameLookup(t,o,"count")>0&&(r+='\n<div class="d-print-none text-center">\n    ',"Y"==a.contextOrFrameLookup(t,o,"flowerNotAddedYetToday")?(r+="\n\n    <a class='btn btn-default add-flowers' href='",a.contextOrFrameLookup(t,o,"contributorId")>0?r+="#leaveFlower":r+="#prompt-signup ",r+='\' data-bs-toggle=\'modal\'><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveFlower:Leave a Flower"),e.opts.autoescape),r+="</a>\n    "):(r+='\n    <a class=\'btn btn-default add-flowers one-flower-per-day\' href="#"><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveFlower:Leave a Flower"),e.opts.autoescape),r+='</a>\n    <p class="warn-message yft form-control-static alert mt-2 alert-warning icon-warning one-flower">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.FlowerLimitMsg:You can only add one flower per day to any given memorial"),e.opts.autoescape),r+="\n    </p>\n\n    "),r+="\n    ",a.contextOrFrameLookup(t,o,"count")>2&&(r+='\n        <a id="view-memorial-flowers" class="btn btn-default d-print-none" href="/memorial/',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialId"),e.opts.autoescape),r+="/",r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"nameForURL"),e.opts.autoescape),r+='/flower">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.ViewAll:View All"),e.opts.autoescape),r+="</a>\n    "),r+="\n    </div>\n"),s(null,r+="\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/flowersGrid.html"],r)},653:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/limitedMemorial.html"]={root:function(e,t,o,a,s){var r="";try{r+='<input type="text" id="stagedMergeMemorialId" class="hidden" value="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialId"),e.opts.autoescape),r+='" />\n\n<div class="d-flex">\n  <div class="flex-shrink-0">\n  \t<div class="bio-dp mem-profile-img">\n    ',a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"fileName")?(r+='\n    <img src="',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"fileName"),e.opts.autoescape),r+='" class="media-object" alt="',r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("replace").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialName"),'"',"")),e.opts.autoescape),r+='" id="mergeProfileImage" data-imgphoto-id = "',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"photoId"),e.opts.autoescape),r+='">\n    '):(r+='\n    <span class="icon-findagrave" aria-label="',r+=a.suppressValue(e.getFilter("i18n").call(t,"global.NoGrave:No Grave Photo"),e.opts.autoescape),r+='"></span>\n\t'),r+='\n\t</div>\n  </div>\n  <div class="flex-grow-1 ms-3 memorial-overview">\n    <h4 class="media-heading">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialName")),e.opts.autoescape),r+='\n    <button id="changeMergeId" class="btn btn-link btn-sm">',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.Change:Change"),e.opts.autoescape),r+='</button></h4>\n    <table class="table mem-events">\n      <colgroup>\n        <col width="25%"/>\n        <col/>\n      </colgroup>\n    <tbody>\n        <tr>\n            <th><span id="birthLabel">',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.Birth:Birth"),e.opts.autoescape),r+='</span></th>\n            <td><time id="birthDateLabel" class="info" itemprop="birthDate">',r+=a.suppressValue("unknown"===a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"birthDate")?e.getFilter("i18n").call(t,"comp.obc.Unknown:unknown"):a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"birthDate"),e.opts.autoescape),r+='</time></td>\n        </tr>\n        <tr>\n            <th><span id="deathLabel">',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.Death:Death"),e.opts.autoescape),r+='</span></th>\n            <td><time id="deathDateLabel" class="info" itemprop="deathDate">',r+=a.suppressValue("unknown"===a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"deathDate")?e.getFilter("i18n").call(t,"comp.obc.Unknown:unknown"):a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"deathDate"),e.opts.autoescape),r+='</time></td>\n        </tr>\n        <tr>\n            <th><span id="cemeteryLabel">',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.Burial:Burial"),e.opts.autoescape),r+="</span></th>\n            <td>\n                ",a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryId")>0?(r+='\n                <div class="info"><span id="cemeteryNameLabel" itemprop="name">',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryName"),e.opts.autoescape),r+='</span> <small><a href="/cemetery/',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryId"),e.opts.autoescape),r+="/",r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryNameForURL"),e.opts.autoescape),r+='" itemprop="url" title="',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.openNewWindow:Open in new window"),e.opts.autoescape),r+='" class="icon-newwindow" target="_blank"></a></small></div>\n                <span class="place" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">\n                    ',a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCity")&&(r+='\n                    <span id="cemeteryCity" itemprop="addressLocality">',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCity"),e.opts.autoescape),r+="</span>,\n                    "),r+="\n                    ",a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCounty")&&(r+='\n                    <span id="cemeteryCounty">',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCounty"),e.opts.autoescape),r+="</span>,\n                    "),r+="\n                    ",a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryState")&&(r+='\n                    <span id="cemeteryState" itemprop="addressRegion">',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryState"),e.opts.autoescape),r+="</span>,\n                    "),r+="\n                    ","USA"==a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCountryAbbrev")?(r+=' <span id="cemeteryCountry" itemprop="addressLocality">',r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.USA:USA"),e.opts.autoescape),r+="</span>\n                    "):(r+='\n                    <span id="cemeteryCountry" itemprop="addressCountry">',r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"cemeteryCountry"),e.opts.autoescape),r+="</span>\n                    "),r+="\n                </span>\n                "):(r+='\n                        <span id="otherPlace" class="place">',a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"dispositionLong")&&(r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"dispositionLong"),e.opts.autoescape)),a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"ashDistLocName")&&(r+=", ",r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"ashDistLocName"),e.opts.autoescape)),a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"dispositionDetails")&&(r+=". ",r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.Specifically:Specifically:"),e.opts.autoescape),r+=" ",r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"dispositionDetails")),e.opts.autoescape)),r+="\n                        </span>\n                "),r+="\n            </td>\n        </tr>\n        <tr>\n            <th>",r+=a.suppressValue(e.getFilter("i18n").call(t,"comp.obc.MemorialID:Memorial ID"),e.opts.autoescape),r+="</th>\n            <td>",r+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialId"),e.opts.autoescape),r+='</td>\n        </tr>\n    </tbody>\n</table>\n  </div>\n</div>\n<p class="hidden icon-warning alert alert-danger" role="alert" id="mergeInQueue">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.MergeAlreadyExists:We are already reviewing these memorials for possible duplicates, please check again later. Thank You!"),e.opts.autoescape),r+='</p>\n<p class="hidden icon-warning alert alert-danger" role="alert" id="mergeIsCenotaph">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.MergeCenotaph:Cenotaphs can only be merged with memorials in the same cemetery or with no burial information."),e.opts.autoescape),r+='</p>\n<p class="hidden icon-warning alert alert-danger" role="alert" id="mergeIsMemorial">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.MergeIsMemorial:This memorial is marked as a memorial site, so it cannot be merged with another memorial."),e.opts.autoescape),r+='</p>\n<p class="hidden icon-warning alert alert-danger" role="alert" id="mergeDeclined">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.mergeDeclined:This suggestion was previously reviewed and was declined."),e.opts.autoescape),r+='</p>\n<p class="hidden icon-warning alert alert-danger" role="alert" id="mergeBothFamous">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.mergeBothFamous:You cannot suggest merging a famous memorial into a famous memorial."),e.opts.autoescape),r+='</p>\n<p class="hidden icon-warning alert alert-warning" role="alert" id="differentGender">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.em.differentGenders:These memorials indicate different genders. Please review these memorials before submitting."),e.opts.autoescape),s(null,r+="</p>\n\n\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/limitedMemorial.html"],r)},6434:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/photoButtonMacro.html"]={root:function(e,t,o,a,s){try{var r=a.makeMacro(["c","isAddPhotoAllowed","isAddPhotoAllowedMessage","photoRequest"],["buttonIdSuffix"],(function(s,r,n,l,p){var i=o;o=new a.Frame,p=p||{},Object.prototype.hasOwnProperty.call(p,"caller")&&o.set("caller",p.caller),o.set("c",s),o.set("isAddPhotoAllowed",r),o.set("isAddPhotoAllowedMessage",n),o.set("photoRequest",l),o.set("buttonIdSuffix",Object.prototype.hasOwnProperty.call(p,"buttonIdSuffix")?p.buttonIdSuffix:"");var u="";return u+='\n\t\t<div class="btn-msgs mb-md-3 mb-1 position-relative d-inline-block d-print-none">\n\t\t',"UserMaxReached"==n?(u+='\n\t\t\t<a class=\'btn btn-default add-photos icon-add mb-2\' href="#" role="button">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotos:Add Photos"),e.opts.autoescape),u+="</a>\n\t\t"):"MemorialMaxReached"==n?(u+='\n\t\t\t<a class=\'btn btn-default add-photos icon-add mb-2\' href="#" role="button">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotos:Add Photos"),e.opts.autoescape),u+="</a>\n\t    "):r?s?(u+='\n\t\t\t<button class="btn btn-default mb-2" type="button" id="add-photo-btn',u+=a.suppressValue(a.contextOrFrameLookup(t,o,"buttonIdSuffix"),e.opts.autoescape),u+='" data-bs-toggle="modal" data-bs-target="#add-photos"><span class="icon-add" aria-hidden="true"></span>',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotos:Add Photos"),e.opts.autoescape),u+="</button>\n\t\t"):(u+='\n\t\t\t<button class="btn btn-default mb-2" type="button" id="add-photo-btn',u+=a.suppressValue(a.contextOrFrameLookup(t,o,"buttonIdSuffix"),e.opts.autoescape),u+='" data-bs-toggle="modal" data-bs-target="#prompt-signup"><span class="icon-add" aria-hidden="true"></span>',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotos:Add Photos"),e.opts.autoescape),u+="</button>\n\t\t"):(u+='\n\t\t\t <a class=\'btn btn-default add-photos icon-add mb-2\' href="#" role="button">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotos:Add Photos"),e.opts.autoescape),u+="</a>\n\t\t"),u+="\n\t\t",u+="\n\n\t\t","RecentlyDeceased"==a.memberLookup(l,"message")?u+="\n\t\t":"UserNotLoggedIn"!=a.memberLookup(l,"message")&&s?"ExistingPhotoRequest"!=a.memberLookup(l,"message")&&"UserAccountSuspended"!=a.memberLookup(l,"message")&&"UserReachedWeeklyMax"!=a.memberLookup(l,"message")&&"MaxPhotosReached"!=a.memberLookup(l,"message")&&"UnknownBurial"!=a.memberLookup(l,"message")&&a.memberLookup(l,"isPhotoRequestAllowed")?(u+='\n\n\t\t\t<button class="btn btn-default mb-2 d-print-none" type="button" data-bs-toggle="modal" data-bs-target="#requestPhoto"><span class="icon-camera" data-bs-toggle="tooltip" data-placement="bottom" title="',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestHPhoto:Request Headstone Photo"),e.opts.autoescape),u+='" aria-hidden="true"></span>',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestPhoto:Request Photo"),e.opts.autoescape),u+="</button>\n\t\t"):(u+='\n\t\t\t<a class=\'btn btn-default mb-2 request-photos icon-camera d-print-none\' href="#" role="button" title="',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestHPhoto:Request Headstone Photo"),e.opts.autoescape),u+='" data-bs-toggle="tooltip" data-bs-placement="bottom">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestPhoto:Request Photo"),e.opts.autoescape),u+="</a>\n\t\t"):(u+='\n\n\t\t\t<button class="btn btn-default mb-2 d-print-none" type="button" data-bs-toggle="modal" data-bs-target="#prompt-signup"><span class="icon-camera" data-bs-toggle="tooltip" data-placement="bottom" title="',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestHPhoto:Request Headstone Photo"),e.opts.autoescape),u+='" aria-hidden="true"></span>',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RequestPhoto:Request Photo"),e.opts.autoescape),u+="</button>\n\t\t"),u+="\n\t\t",u+="\n\t\t","UserMaxReached"==n?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotoMaxUser:You have uploaded the maximum number of photos allowed per user for this memorial."),e.opts.autoescape),u+="</p>\n\t\t"):"MemorialMaxReached"==n?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotoMaxMemorial:The maximum number of photos allowed for this memorial has been reached."),e.opts.autoescape),u+="</p>\n\t    "):r||(u+='\n\t\t\t <p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddPhotoOff:Adding photos to this memorial is not allowed."),e.opts.autoescape),u+="</p>\n\t\t"),u+="\n\t\t","ExistingPhotoRequest"==a.memberLookup(l,"message")?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestOutstanding:There is an outstanding photo request."),e.opts.autoescape),u+="</p>\n\t\t"):"UserAccountSuspended"==a.memberLookup(l,"message")?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestSuspended:This user account has been suspended."),e.opts.autoescape),u+="</p>\n\t\t"):"UserReachedWeeklyMax"==a.memberLookup(l,"message")?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestMax:You have reached the maximum number of photo requests you can submit in a week."),e.opts.autoescape),u+="</p>\n\t\t"):"MaxPhotosReached"==a.memberLookup(l,"message")?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestMaxPhotos:This memorial already has the maximum number of allowed photos."),e.opts.autoescape),u+="</p>\n\t\t"):"UnknownBurial"==a.memberLookup(l,"message")?(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestUnknown:Photos cannot be requested for unknown cemeteries or other burial types."),e.opts.autoescape),u+="</p>\n\t\t"):a.memberLookup(l,"isPhotoRequestAllowed")||(u+='\n\t\t\t<p class="warn-message yft form-control-static alert alert-warning icon-warning">',u+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoRequestBanned:Photo requests are not allowed for this memorial."),e.opts.autoescape),u+="</p>\n\t\t"),u+="\n\t\t</div>\n",o=i,new a.SafeString(u)}));t.addExport("setButtons"),t.setVariable("setButtons",r),s(null,"")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/photoButtonMacro.html"],r)},4956:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["partials/component/photoButtonMacro.html"]=o(6434);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/photoGrid.html"]={root:function(e,t,o,a,s){var r=0,n=0,l="";try{e.getTemplate("partials/component/photoButtonMacro.html",!1,"public/templates/partials/component/photoGrid.html",!1,(function(p,i){p?s(p):i.getExported((function(p,i){if(p)s(p);else if(Object.prototype.hasOwnProperty.call(i,"setButtons")){var u=i.setButtons;if(t.setVariable("setButtons",u),l+='\n<div class="overview-panel data-photos">\n\t<div class="data-filled-user text-center d-print-none">\n\t\t',l+=a.suppressValue((r=3,n=15,a.callWrap(u,"setButtons",t,[a.contextOrFrameLookup(t,o,"contributorId"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowed"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowedMessage"),a.contextOrFrameLookup(t,o,"photoRequest")])),e.opts.autoescape),l+="\n\t</div>\n\t",a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>0){l+='\n\t<div class="overview-panel--body data-filled-user photo-grid">\n\t\t<div class="',1==a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")&&(l+="img-single "),l+='img-area">\n\t\t',l+="\n\t\t\t",o=o.push();var m=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos");if(m)for(var c=(m=a.fromIterator(m)).length,d=0;d<m.length;d++){var b=m[d];o.set("item",b),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",c-d),o.set("loop.revindex0",c-d-1),o.set("loop.first",0===d),o.set("loop.last",d===c-1),o.set("loop.length",c),l+="\n\t\t\t\t",a.memberLookup(a.contextOrFrameLookup(t,o,"loop"),"index")<=2&&(l+='\n\t\t\t\t<figure class="text-center">\n\t\t\t\t\t<a href="#" role="button" class="collage-item photo-',l+=a.suppressValue(a.memberLookup(b,"photoId"),e.opts.autoescape),l+='" data-bs-target="#photoViewer" data-photo-id="',l+=a.suppressValue(a.memberLookup(b,"photoId"),e.opts.autoescape),l+='">\n\t\t\t\t\t\t<img data-src="',l+=a.suppressValue(a.memberLookup(b,"fileName"),e.opts.autoescape),l+='" alt="',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PictureOf:Picture of {{name}}",{name:e.getFilter("safe").call(t,a.contextOrFrameLookup(t,o,"fullName"))}),e.opts.autoescape),l+='" itemprop="image" class="lazyload" data-imgphoto-id="',l+=a.suppressValue(a.memberLookup(b,"photoId"),e.opts.autoescape),l+='">\n\t\t\t\t\t</a>\n\t\t\t\t\t<figcaption class="small">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AddedBy:Added by "),e.opts.autoescape),l+=" <a href='/user/profile/",l+=a.suppressValue(a.memberLookup(b,"contributorId"),e.opts.autoescape),l+="'>",l+=a.suppressValue(e.getFilter("truncate").call(t,a.memberLookup(b,"publicName"),45),e.opts.autoescape),l+="</a></figcaption>\n\t\t\t\t</figure>\n\t\t\t\t"),l+="\n\t\t\t"}o=o.pop(),l+="\n\n\t\t</div>\n\t\t",a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>2&&(l+='\n\t\t\t<div class="text-center">\n\t\t\t\t<a href="/memorial/',l+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"memorialId"),e.opts.autoescape),l+="/",l+=a.suppressValue(a.memberLookup(a.contextOrFrameLookup(t,o,"memorialSummary"),"nameForURL"),e.opts.autoescape),l+='/photo" class="view-memorial-photos more-photos btn btn-outline-primary d-print-none">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.SeeMore:See {{num}} more",{num:a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")-e.getFilter("safe").call(t,2)}),e.opts.autoescape),l+="</a>\n\t\t\t</div>\n\t\t\t"),l+="\n\t</div>\n\t"}s(null,l+="\n</div>")}else s(new Error("cannot import 'setButtons'"))}))}))}catch(e){s(a.handleError(e,r,n))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/photoGrid.html"],r)},8398:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["../../macro/relationshipError.html"]=o(7351);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/relationshipErrorMessage.html"]={root:function(e,t,o,a,s){var r=0,n=0,l="";try{"maximumDeletesExceeded"==a.contextOrFrameLookup(t,o,"relationshipType")?(l+='\n<p class="text-danger mt-2 icon-warning">',l+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,'mem.ovr.RelationshipNotDeleted:To avoid abuse, we limit the number of times you can remove your relationship from a memorial. You have reached that limit. If you have questions, please contact <a href="mailto:support@findagrave.com">support@findagrave.com</a>.')),e.opts.autoescape),l+="</p>\n"):(l+="\n",e.getTemplate("../../macro/relationshipError.html",!1,"public/templates/partials/component/relationshipErrorMessage.html",!1,(function(p,i){p?s(p):i.getExported(t.getVariables(),o,(function(p,i){p?s(p):(t.setVariable("relationshipError",i),l+='\n<p class="text-danger mt-2 icon-warning">',l+=a.suppressValue((r=4,n=79,a.callWrap(a.memberLookup(i,"relationshipError"),'relationshipError["relationshipError"]',t,[a.contextOrFrameLookup(t,o,"relationshipType")])),e.opts.autoescape),l+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,'mem.ovr.RelationshipNotAdded: <a href="https://support.findagrave.com/s/article/Memorials-for-those-who-are-recently-deceased" target="_blank">Learn more.</a> If you believe this is in error, please contact <a href="mailto:support@findagrave.com">support@findagrave.com</a>.')),e.opts.autoescape),l+="</p>\n")}))}))),s(null,l)}catch(e){s(a.handleError(e,r,n))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/relationshipErrorMessage.html"],r)},7451:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["../ads/adsMain.html"]=o(535),r["../../memorials/flower-item.html"]=o(8962);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/viewFlowers.html"]={root:function(e,t,o,a,s){var r="";try{e.getTemplate("../ads/adsMain.html",!1,"public/templates/partials/component/viewFlowers.html",!1,(function(n,l){n?s(n):l.getExported((function(n,l){if(n)s(n);else{if(t.setVariable("adsForm",l),r+='\n<div class="section-memorial-actions container-lg mt-3">\n\t<div class="row">\n\t\t<div class="col-sm-5">\n\t\t\t',"Y"==a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowerNotAddedYetToday")?(r+='\n\n\t\t\t<button type="button" data-bs-toggle="modal" data-bs-target="',a.contextOrFrameLookup(t,o,"contributorId")>0?r+="#leaveFlower":r+="#prompt-signup",r+='" class="btn btn-default add-flowers d-print-none"><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveAFlower:Leave a Flower"),e.opts.autoescape),r+="</button>\n\t\t\t"):(r+='\n\t\t\t<button type="button" class="btn btn-default add-flowers one-flower-per-day d-print-none"><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveAFlower:Leave a Flower"),e.opts.autoescape),r+='</button>\n\t\t\t<p class="warn-message yft form-control-static mt-1 alert alert-warning icon-warning one-flower d-print-none" role="alert">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.FlowerLimitMsg:You can only add one flower per day to any given memorial"),e.opts.autoescape),r+="\n            </p>\n\t\t\t"),r+="\n\t\t\t",a.contextOrFrameLookup(t,o,"sendFlowersURL")&&(r+='\n\t\t\t\t<a href="',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"sendFlowersURL"),e.opts.autoescape),r+='" class="ms-1 btn btn-default send-flowers-button mt-0 d-print-none" target="_blank"><span class="icon-flowers text-primary" aria-hidden="true"></span> <span class="text-primary">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.flowerDelivery:Flower Delivery"),e.opts.autoescape),r+="</span></a>\n\t\t\t"),r+='\n\t\t</div>\n\t\t<div class="col-sm-7 text-end">\n\t\t',a.contextOrFrameLookup(t,o,"contributorId")&&a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")&&(r+='\n\t\t\t<div class="mb-3" id="flowerFilterOptions">\n\t\t\t\t<label class="radio-inline"><input type="radio" name="filter-flowers" value="all_flowers" id="allFlowers" checked > ',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AllFlowers:All Flowers"),e.opts.autoescape),r+='</label>\n\t\t\t\t<label class="radio-inline"><input type="radio" name="filter-flowers" value="my_flowers" id="myFlowers"> ',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.MyFlowers:My Flower(s)"),e.opts.autoescape),r+="</label>\n\t\t\t</div>\n\t\t"),r+='\n\t\t</div>\n\t</div>\n</div>\n<div class="section-flowers section-board">\n\t<div class="container-lg mt-3">\n\t\t<div class="row">\n\t\t\t<div class="col-sm-12 col-md-9">\n\t\t\t\t',0==a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")&&(r+='\n\t\t\t\t<div class="text-center d-print-none">\n\t\t\t\t\t<p class="lead text-muted">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.NoFlowerFound:This memorial currently has no flowers."),e.opts.autoescape),r+="</p>\n\t\t\t\t</div>\n\t\t\t\t"),r+='\n\t\t\t\t<div id="flower-list" class="board-list flowers-board-list">\n\t\t\t\t\t',a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")>0){r+="\n\t\t\t\t\t",r+='\n\n\t\t\t\t\t<div class="list-item-page ',a.contextOrFrameLookup(t,o,"fade")&&(r+="fade"),r+='" data-url="page=',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"page"),e.opts.autoescape),r+='">\n\t\t\t\t\t    ',a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")<a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"count")&&(r+="\n\t\t\t\t\t        ",a.contextOrFrameLookup(t,o,"page")&&(r+='\n\t\t\t\t\t        <div class="paging-divide" id="srppage',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"page"),e.opts.autoescape),r+='">\n\t\t\t\t\t            <span>',r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,"mem.ovr.PageNum:Page {{page}}",{page:a.contextOrFrameLookup(t,o,"page")})),e.opts.autoescape),r+="</span>\n\t\t\t\t\t        </div>\n\t\t\t\t\t        "),r+="\n\t\t\t\t\t    "),r+="\n\t\t\t\t\t</div>\n\t\t\t\t\t\t",o=o.push();var p=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers");if(p)for(var i=(p=a.fromIterator(p)).length,u=0;u<p.length;u++){var m=p[u];o.set("item",m),o.set("loop.index",u+1),o.set("loop.index0",u),o.set("loop.revindex",i-u),o.set("loop.revindex0",i-u-1),o.set("loop.first",0===u),o.set("loop.last",u===i-1),o.set("loop.length",i),r+="\n\t\t\t\t\t\t\x3c!-- single flower --\x3e\n\t\t\t\t\t\t\t";var c=[];c.push((function(t){e.getTemplate("../../memorials/flower-item.html",!1,"public/templates/partials/component/viewFlowers.html",!1,(function(e,o){e?s(e):t(null,o)}))})),c.push((function(e,a){e.render(t.getVariables(),o,(function(e,t){e?s(e):a(null,t)}))})),c.push((function(e,t){r+=e,t(null)})),e.waterfall(c,(function(){r+="\n\t\t\t\t\t\t"}))}o=o.pop(),r+="\n\t\t\t\t\t",r+="\n\t\t\t\t\t"}r+="\n\t\t\t\t</div>\n\t\t\t\t",a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowers"),"length")>7&&(r+='\n\t\t\t\t\t\t<div class="col-12 col-sm-6 col-md-4 board-item floating-board">\n\t\t\t\t\t\t\t<div class="board-item--inner">\n\t\t\t\t\t\t\t\t<div class="board-item---header">\n\t\t\t\t\t\t\t\t\t<div class="floating-inner">\n\t\t\t\t\t\t\t\t\t\t<div class="vertical-middle">\n\t\t\t\t\t\t\t\t\t\t\t',"Y"==a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"flowerNotAddedYetToday")?(r+='\n\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" data-bs-toggle="modal" data-bs-target="',a.contextOrFrameLookup(t,o,"contributorId")>0?r+="#leaveFlower":r+="#prompt-signup",r+='" class="btn btn-default add-flowers"><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveAFlower:Leave a Flower"),e.opts.autoescape),r+="</button>\n\t\t\t\t\t\t\t\t\t\t\t"):(r+='\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="btn btn-default add-flowers one-flower-per-day"><span class="icon-flowers" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.LeaveAFlower:Leave a Flower"),e.opts.autoescape),r+='</button>\n\t\t\t\t\t\t\t\t\t\t\t<p class="warn-message yft mt-2 form-control-static alert alert-warning icon-warning one-flower">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.FlowerLimitMsg:You can only add one flower per day to any given memorial"),e.opts.autoescape),r+="\n\t\t\t\t\t\t\t\t            </p>\n\t\t\t\t\t\t\t\t\t\t\t"),r+="\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),r+='\n\t\t\t\t<div id="loadmoreajaxloader" style="display: none;" class="text-center mx-auto">\n\t\t\t\t\t<div class="loader-h" role="status"><span class="visually-hidden">',r+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.loading:Loading..."),e.opts.autoescape),r+='</span>\n\t\t\t            <div class="disc disc-1"></div>\n\t\t\t            <div class="disc disc-2"></div>\n\t\t\t            <div class="disc disc-3"></div>\n\t\t            </div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t',a.contextOrFrameLookup(t,o,"cemeteryId")>0&&"4"==a.contextOrFrameLookup(t,o,"cemeteryCountryId")&&(r+='\n\t\t\t<div class="col-sm-12 col-md-3">\n\t\t\t\t',"Y"!=a.contextOrFrameLookup(t,o,"removeAds")&&(r+='\n\t\t\t\t<div class="fg-prad scroll-prad">\n\t\t\t\t\t<p class="ad-text">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Advertisement:Advertisement"),e.opts.autoescape),r+='</p>\n\t\t\t\t\t<label for="closer-mem-exclusive" class="btn-close d-sm-none">&times;</label>\n\t\t\t\t\t<div id="mem-exclusive" class="ad-wrapper"></div>\n\t\t\t\t\t<script>\n\t\t\t\t\t\tgoogletag.cmd.push(function() { googletag.display(\'mem-exclusive\'); });\n\t\t\t\t\t<\/script>\n\t\t\t\t</div>\n  \t\t\t\t'),r+="\n\t\t\t</div>\n\t\t\t"),r+="\n\t\t</div>\n\t</div>\n\t",s(null,r+="\n</div>\n")}}))}))}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/viewFlowers.html"],r)},7720:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={});r["partials/component/photoButtonMacro.html"]=o(6434);var n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/component/viewPhotos.html"]={root:function(e,t,o,a,s){var r=0,n=0,l="";try{e.getTemplate("partials/component/photoButtonMacro.html",!1,"public/templates/partials/component/viewPhotos.html",!1,(function(p,i){p?s(p):i.getExported((function(p,i){if(p)s(p);else if(Object.prototype.hasOwnProperty.call(i,"setButtons")){var u=i.setButtons;if(t.setVariable("setButtons",u),l+='\n<div class="section-memorial-actions">\n    <div class="container-lg mt-3">\n        <div class="row">\n            <div class="col-12 col-md d-md-flex align-md-items-start">\n\t\t\t\t\t',l+=a.suppressValue((r=5,n=18,a.callWrap(u,"setButtons",t,[a.contextOrFrameLookup(t,o,"contributorId"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowed"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowedMessage"),a.contextOrFrameLookup(t,o,"photoRequest")])),e.opts.autoescape),l+="\n\t\t\t\t\t",a.contextOrFrameLookup(t,o,"sendFlowersURL")&&(l+='\n\t\t\t\t\t\t<a href="',l+=a.suppressValue(a.contextOrFrameLookup(t,o,"sendFlowersURL"),e.opts.autoescape),l+='" class="ms-md-1 mb-4 btn btn-default send-flowers-button mt-0 d-print-none" target="_blank"><span class="icon-flowers text-primary" aria-hidden="true"></span> <span class="text-primary">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.flowerDelivery:Flower Delivery"),e.opts.autoescape),l+="</span></a>\n\t\t\t\t\t"),l+='\n            </div>\n            <div class="col-12 col-md-auto text-md-right">\n            \t<div class="form-group">\n            \t',a.contextOrFrameLookup(t,o,"contributorId")&&a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>0&&(l+='\n\t\t\t\t\t<span id="photoFilterOptions">\n\t\t\t\t\t\t<label class="radio-inline"><input type="radio" name="filter-photos" value="all_photos" id="allPhotos" checked> ',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.AllPhotos:All Photos"),e.opts.autoescape),l+='</label>\n\t\t\t\t\t\t<label class="radio-inline"><input type="radio" name="filter-photos" value="my_photos" id="myPhotos"> ',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.MyPhotos:My Photo(s)"),e.opts.autoescape),l+="</label>\n\t\t\t\t\t</span>\n\t\t\t\t"),l+="\n\t\t\t\t",a.contextOrFrameLookup(t,o,"contributorId")==a.contextOrFrameLookup(t,o,"memorialContributorId")&&a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>1&&(l+='\n\t\t\t\t\t\t<button type="button" data-bs-toggle="modal" data-bs-target="#photoSortModal" class="btn btn-default icon-fliphorizontal d-print-none">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.ArrangeOrder:Arrange photos"),e.opts.autoescape),l+="</button>\n\t\t\t\t\t"),l+='\n\t\t\t\t\n\t\t\t\t</div>\n\n            </div>\n        </div>\n    </div>\n</div>\n<div class="section-photos section-board">\n\t<div class="container-lg">\n\t\t',0==a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")&&(l+='\n\t\t\t<p class="lead text-muted text-center">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.NoPhotoFound:This memorial currently has no photos."),e.opts.autoescape),l+=" </p>\n\t\t"),l+='\n\t\t<div class="board-list photos-list row g-0 justify-content-center justify-content-md-start align-items-center">\n\t\t\t',a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>0){l+="\n\t\t\t\t",o=o.push();var m=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos");if(m)for(var c=(m=a.fromIterator(m)).length,d=0;d<m.length;d++){var b,h=m[d];o.set("item",h),o.set("loop.index",d+1),o.set("loop.index0",d),o.set("loop.revindex",c-d),o.set("loop.revindex0",c-d-1),o.set("loop.first",0===d),o.set("loop.last",d===c-1),o.set("loop.length",c),l+='\n\t\t\t\t<div class="board-item photos-board-item ',a.memberLookup(h,"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&(l+="css--my-photo"),l+='" itemscope itemtype="https://schema.org/ImageGallery">\n\t\t\t\t\t<figure class="board-item--inner h-100 d-flex flex-column mb-0">\n\t\t\t\t\t\t<button class="btn btn-default btn-sm icon-trash deletePhoto d-print-none',a.memberLookup(h,"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&"Y"!=a.contextOrFrameLookup(t,o,"isFamous")||(l+=" hidden"),l+='" data-id="',l+=a.suppressValue(a.memberLookup(h,"photoId"),e.opts.autoescape),l+='">',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Delete:Delete"),e.opts.autoescape),l+='</button>\n\t\t\t\t\t\t<div class="board-item---header" data-bs-target="#photoViewer">\n\t\t\t\t\t\t\t<div class="board-item---img pb-2" data-photo-id="',l+=a.suppressValue(a.memberLookup(h,"photoId"),e.opts.autoescape),l+='">\n\t\t\t\t\t\t\t\t<img data-src="',l+=a.suppressValue(a.memberLookup(h,"fileName"),e.opts.autoescape),l+='" alt="',l+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.MemorialPhotoID:Memorial photo {{{photoId}}}",{photoId:a.memberLookup(h,"photoId")}),e.opts.autoescape),l+=' " itemprop="image" class="lazyload" data-imgphoto-id="',l+=a.suppressValue(a.memberLookup(h,"photoId"),e.opts.autoescape),l+='">\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t',l+="\n\t\t\t\t\t\t\t",(a.memberLookup(h,"caption")||a.memberLookup(h,"publicNote"))&&(l+='\n\t\t\t\t\t\t\t<figcaption class="board-item---body">\n\t\t\t\t\t\t\t<div class="caption-text">\n\t\t\t\t\t\t\t\t',b=function(){var t="";return t+='&hellip; <span data-bs-toggle="modal" data-bs-target="#photoViewer" data-photo-id="',t+=a.suppressValue(a.memberLookup(h,"photoId"),e.opts.autoescape),t+='" class="board-item---img">more</span> '}(),o.set("end",b,!0),o.topLevel&&t.setVariable("end",b),o.topLevel&&t.addExport("end",b),l+='\n\t\t\t\t\t\t\t\t<p class="img-caption" itemprop="description">',a.memberLookup(h,"caption")&&(l+='<b class="img-title" itemprop="name">',l+=a.suppressValue(a.memberLookup(h,"caption"),e.opts.autoescape),l+=" - </b> "),l+=" ",l+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("truncateHtml").call(t,a.memberLookup(h,"publicNote"),75)),e.opts.autoescape),l+="</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t\t"),l+="\n\t\t\t\t\t\t\t",l+="\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t",l+='\n\t\t\t\t\t\t<p class="img-credits bg-light mt-auto mb-0" itemprop="contributor">',l+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(h,"addedBy")),e.opts.autoescape),l+="</p>\n\t\t\t\t\t\t",l+="\n\t\t\t\t\t</figure>\n\t\t\t\t</div>\n\t\t\t\t"}o=o.pop(),l+="\n\t\t\t"}l+="\n\t\t\t",a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>7&&a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"count")<a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"maxPhotosPerMemorial")&&(a.contextOrFrameLookup(t,o,"myPhotoCount")<a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"maxPhotosPerUser")||!a.contextOrFrameLookup(t,o,"contributorId")||1==a.memberLookup(a.contextOrFrameLookup(t,o,"photoRequest"),"isPhotoRequestAllowed"))&&(l+='\n\t\t\t\t<div class="col-12 col-sm-6 col-md-4 col-lg-3 board-item floating-board">\n\t\t\t\t\t<div class="board-item--inner">\n\t\t\t\t\t\t<div class="board-item---header">\n\t\t\t\t\t\t\t<div class="floating-inner">\n\t\t\t\t\t\t\t\t<div class="vertical-middle">\n\t\t\t\t\t\t\t\t\t',l+=a.suppressValue((r=67,n=22,a.callWrap(u,"setButtons",t,[a.contextOrFrameLookup(t,o,"contributorId"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowed"),a.contextOrFrameLookup(t,o,"isAddPhotoAllowedMessage"),a.contextOrFrameLookup(t,o,"photoRequest"),"2"])),e.opts.autoescape),l+="\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"),l+='\n\t\t</div>\n        <div id="loadmoreajaxloaderPhotos" style="display: none;" class="text-center mx-auto">\n        \t<div class="loader-h" role="status"><span class="visually-hidden">',l+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.loading:Loading..."),e.opts.autoescape),s(null,l+='</span>\n                <div class="disc disc-1"></div>\n                <div class="disc disc-2"></div>\n                <div class="disc disc-3"></div>\n            </div>\n        </div>\n\t</div>\n</div>\n')}else s(new Error("cannot import 'setButtons'"))}))}))}catch(e){s(a.handleError(e,r,n))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/component/viewPhotos.html"],r)},4320:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/listing/flowerCategory.html"]={root:function(e,t,o,a,s){var r=0,n=0,l="";try{var p;l+='<div class="select-style">\n    <select class="form-control" name="flowerCategory" id="flower-category-select">\n        ',a.contextOrFrameLookup(t,o,"contributorId")&&(l+="\n        ",p=/^custom.*/g,o.set("regExp",p,!0),o.topLevel&&t.setVariable("regExp",p),o.topLevel&&t.addExport("regExp",p),l+='\n        <option value="custom',l+=a.suppressValue(a.contextOrFrameLookup(t,o,"contributorId"),e.opts.autoescape),l+='" ',r=4,n=64,a.callWrap(a.memberLookup(a.contextOrFrameLookup(t,o,"regExp"),"test"),'regExp["test"]',t,[a.contextOrFrameLookup(t,o,"selectedCategory")])&&(l+="selected"),l+=">",l+=a.suppressValue(e.getFilter("i18n").call(t,"ovr.lf.MyScrapbook:** My Scrapbook **"),e.opts.autoescape),l+="</option>\n        "),l+="\n        ",o=o.push();var i=a.contextOrFrameLookup(t,o,"result");if(i)for(var u=(i=a.fromIterator(i)).length,m=0;m<i.length;m++){var c=i[m];o.set("category",c),o.set("loop.index",m+1),o.set("loop.index0",m),o.set("loop.revindex",u-m),o.set("loop.revindex0",u-m-1),o.set("loop.first",0===m),o.set("loop.last",m===u-1),o.set("loop.length",u),l+='\n        <option value="',l+=a.suppressValue(a.memberLookup(c,"BouquetGrouping"),e.opts.autoescape),l+='" ',a.contextOrFrameLookup(t,o,"selectedCategory")==a.memberLookup(c,"BouquetGrouping")&&(l+="selected"),l+=">",l+=a.suppressValue(a.memberLookup(c,"text"),e.opts.autoescape),l+="</option>\n        "}o=o.pop(),s(null,l+="\n    </select>\n</div>")}catch(e){s(a.handleError(e,r,n))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/listing/flowerCategory.html"],r)},3638:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/overlay/photos/PhotoViewerGrid.html"]={root:function(e,t,o,a,s){var r="";try{if(a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>0){r+="\n",o=o.push();var n=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("item",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+='\n<div class="viewer-item',a.contextOrFrameLookup(t,o,"memorialContributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&(r+=" css--memorial-owner"),a.memberLookup(i,"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&"Y"!=a.contextOrFrameLookup(t,o,"isFamous")&&(r+=" css--photo-owner"),r+=" viewCurrentImg-",r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" data-myphoto="',a.memberLookup(i,"contributorId")==a.contextOrFrameLookup(t,o,"contributorId")&&"Y"!=a.contextOrFrameLookup(t,o,"isFamous")?r+="Yes":r+="No",r+='" data-photo-id="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">\n    <div class="d-print-none position-absolute">\n        <div class="alert alert-success fade in" role="alert" style="display:none" id="coverChanged-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.CoverChanged:Cover Photo Change Saved."),e.opts.autoescape),r+='</div>\n    </div>\n    <div class="text-center d-print-none p-1 p-md-3 added-on card-heading bg-opacity-50 bg-black">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(i,"nowShowing")),e.opts.autoescape),r+='</div>\n    <div class="viewer-item---pic">\n        <img data-src="',r+=a.suppressValue(a.memberLookup(i,"source"),e.opts.autoescape),r+='" class="lazyload img-fluid img-thumbnail mx-auto d-block setImage-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" width="100%" height="100%" alt="',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.ImgAlt:Larger memorial image loading..."),e.opts.autoescape),r+='">\n        <div id="editImageLoader-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" style="display: none;" class="text-center mx-auto edit-image-loader">\n            <div class="loader-h" role="status"><span class="visually-hidden">',r+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.loading:Loading..."),e.opts.autoescape),r+='</span>\n                    <div class="disc disc-1"></div>\n                    <div class="disc disc-2"></div>\n                    <div class="disc disc-3"></div>\n            </div>\n        </div>\n    </div>\n    <div class="added-on d-print-none container-fluid bg-opacity-50 p-2 bg-black">\n        <div class="row g-0">\n            <div class="text-start col-4 col-sm-5">\n                <button type="button" class="btn btn-link btn-icon hidden showDelete text-white"><span class="icon-trash" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Delete:Delete"),e.opts.autoescape),r+='</button>\n            </div>\n            <div class="text-center col-4 col-sm-2">\n                <button type="button" class="btn btn-link btn-icon showrotatel hidden text-white" aria-label="',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RotateLeft:Rotate left"),e.opts.autoescape),r+='"><span class="icon-rotateleft" aria-hidden="true"></span></button>\n                <button type="button" class="btn btn-link btn-icon showrotater hidden text-white" aria-label="',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.RotateRight:Rotate right"),e.opts.autoescape),r+='"><span class="icon-rotateright" aria-hidden="true"></span></button>\n            </div>\n            <div class="text-end col-4 col-sm-5">\n                <a href="',r+=a.suppressValue(a.memberLookup(i,"source"),e.opts.autoescape),r+='" target="_blank" class="text-white btn me-2"><span class="icon-gallery" aria-hidden="true"></span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.ViewOriginal:View original"),e.opts.autoescape),r+='</a>\n            </div>\n        </div>\n    </div>\n    <div class="container-fluid modal-tools">\n        <div class="row">\n            <div class="col-sm-7 viewer-item---caption">\n                    <div class="_nsbWrapper form-shaded d-flex d-sm-block">\n                        <textarea rows="3" maxlength="250" class="form-control d-print-none captionText" placeholder="',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoCaptionPlaceHolder:Add an image caption here."),e.opts.autoescape),r+='" name="publicNote-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" >',a.memberLookup(i,"caption")&&(r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("replace").call(t,e.getFilter("replace").call(t,a.memberLookup(i,"caption"),"<br />","\n"),"<br>","\n")),e.opts.autoescape)),a.memberLookup(i,"publicNoteLong")&&(r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("replace").call(t,e.getFilter("replace").call(t,a.memberLookup(i,"publicNoteLong"),"<br />","\n"),"<br>","\n")),e.opts.autoescape)),r+='</textarea>\n\n                    <p id="photo-viewer-footer" class="d-print-none mt-3 mt-sm-1 ms-2 ms-sm-0 mb-1"><button type="button" class="btn btn-primary hidden showSave"  data-loading-text="',r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,"mem.ovr.Saving:Saving&hellip;")),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Save:Save"),e.opts.autoescape),r+="</button>",r+='</p>\n                    </div>\n                    <div class="photo-text p-sm-2">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(i,"caption")),e.opts.autoescape),r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(i,"publicNoteLong")),e.opts.autoescape),r+='</div>\n            </div>\n            <div class="col-sm-5 viewer-item---author">\n                    <p class="added-by">',r+=a.suppressValue(e.getFilter("safe").call(t,a.memberLookup(i,"addedBy")),e.opts.autoescape),r+='</p>\n                    <div id="confirmPhotoUpdated-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" class="hidden text-success icon-check d-print-none">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoUpdated:Photo Updated"),e.opts.autoescape),r+='</div>\n                    <div id="confirmPhotoFailed-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" class="hidden text-danger icon-denied d-print-none">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.PhotoFailed:Photo Failed to Update"),e.opts.autoescape),r+='</div>\n                    <div class="viewer-item---pictype text-nowrap">\n                        <div class="form-check form-check-inline d-print-none">\n                          <input class="form-check-input showSaveButton" type="radio" name="photoType-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" id="photoType-g',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" value="Grave" ',"Grave"==a.memberLookup(i,"photoType")&&(r+=' checked="checked" '),r+='>\n                          <label class="form-check-label" for="photoType-g',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Grave:Grave"),e.opts.autoescape),r+='</label>\n                        </div>\n                        <div class="form-check form-check-inline d-print-none">\n                          <input class="form-check-input showSaveButton" type="radio" name="photoType-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" id="photoType-p',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" value="Person" ',"Person"==a.memberLookup(i,"photoType")&&(r+=' checked="checked" '),r+='>\n                          <label class="form-check-label" for="photoType-p',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Person:Person"),e.opts.autoescape),r+='</label>\n                        </div>\n                        <div class="form-check form-check-inline d-print-none">\n                          <input class="form-check-input showSaveButton" type="radio" name="photoType-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" id="photoType-f',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" value="Family" ',"Family"==a.memberLookup(i,"photoType")&&(r+=' checked="checked" '),r+='>\n                          <label class="form-check-label" for="photoType-f',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Family:Family"),e.opts.autoescape),r+='</label>\n                        </div>\n                        <div class="form-check form-check-inline d-print-none">\n                          <input class="form-check-input showSaveButton" type="radio" name="photoType-',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" id="photoType-o',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" value="Other" ',"Other"==a.memberLookup(i,"photoType")&&(r+=' checked="checked" '),r+='>\n                          <label class="form-check-label" for="photoType-o',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.Other:Other"),e.opts.autoescape),r+='</label>\n                        </div>\n                    </div>\n                    <div class="viewer-item---setas d-print-none">\n                        <div class="form-check">\n                          <input class="form-check-input" type="checkbox" name="setProfilePhoto" ',"0"==a.memberLookup(i,"sortOrder")&&(r+=' checked="checked" '),r+=' value="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" id="setProfilePhoto',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">\n                          <label class="form-check-label" for="setProfilePhoto',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.SetImageAsProfilePicture:Set as Cover Photo (Person photos recommended)"),e.opts.autoescape),r+="</label>\n                        </div>\n                    </div>\n            </div>\n        </div>\n    </div>\n</div>\n"}o=o.pop(),r+="\n"}s(null,r)}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/overlay/photos/PhotoViewerGrid.html"],r)},3486:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/overlay/photos/flowers.html"]={root:function(e,t,o,a,s){var r="";try{if(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"length")>0){r+="\n",o=o.push();var n=a.contextOrFrameLookup(t,o,"result");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("flower",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+='\n<li class="flower-cell">\n  <div class="each-flower-image mt-3" data-flower-id="',r+=a.suppressValue(a.memberLookup(i,"ID"),e.opts.autoescape),r+='">\n    <img class="mx-auto lazyload d-block" data-src="',r+=a.suppressValue(a.memberLookup(i,"fileName"),e.opts.autoescape),r+='" alt="">\n\t  <p class="flower-each-title text-center mb-0">',r+=a.suppressValue(a.memberLookup(i,"Name"),e.opts.autoescape),r+="</p>\n  </div>\n</li>\n"}o=o.pop(),r+="\n"}else r+='\n<li><div class="alert alert-warning" role="alert">',r+=a.suppressValue(e.getFilter("i18n").call(t,"flower.grid.NoImages:No images for the given category"),e.opts.autoescape),r+="</div></li>\n";s(null,r)}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/overlay/photos/flowers.html"],r)},7270:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/overlay/photos/photoSortOrder.html"]={root:function(e,t,o,a,s){var r="";try{if(r+='<div class="modal fade photo-sort-modal" id="photoSortModal" role="dialog" aria-modal="true" aria-labelledby="mt_photoSortModal" tabindex="-1">\n    <div class="modal-dialog">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button class="close border-none" type="button" data-bs-dismiss="modal" aria-label="',r+=a.suppressValue(e.getFilter("i18n").call(t,"lay.base.Close:Close"),e.opts.autoescape),r+='"><span class="m-0 icon-close" aria-hidden="true"></span></button>\n                <h1 id="mt_photoSortModal" class="modal-title h4">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.ChangePhotoOrder:Change Photo Order"),e.opts.autoescape),r+='</h1>\n            </div>\n            <div class="modal-body modal-scroll photo-list">\n                    <p>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.DragDropInstructions:Drag and drop a photo to change the sort order."),e.opts.autoescape),r+="</p>\n\n                ",a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>1){r+='\n                <ul id="photo-sort-list" class="w-cover-photo photo-sort-list',a.memberLookup(a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos"),"length")>4&&(r+=" gt4"),r+='">\n                    ',o=o.push();var n=a.memberLookup(a.contextOrFrameLookup(t,o,"result"),"photos");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("image",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+='\n                    <li class="photo-sort ',1==a.memberLookup(a.contextOrFrameLookup(t,o,"loop"),"index")&&(r+="cover-image"),r+='" data-photoId="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" data-photoType="',r+=a.suppressValue(a.memberLookup(i,"photoType"),e.opts.autoescape),r+='">\n                    <span>',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.CoverPhoto:Cover Photo"),e.opts.autoescape),r+='</span>\n                    <img id="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='" src="',r+=a.suppressValue(a.memberLookup(i,"sortFileName"),e.opts.autoescape),r+='" data-photoId="',r+=a.suppressValue(a.memberLookup(i,"photoId"),e.opts.autoescape),r+='">\n                    </li>\n                    '}o=o.pop(),r+="\n                </ul>\n                "}r+='\n            </div>\n            <div class="modal-footer">\n                <button class="btn-default btn" data-bs-dismiss="modal">',r+=a.suppressValue(e.getFilter("safe").call(t,e.getFilter("i18n").call(t,"mem.ovr.Cancel:Cancel")),e.opts.autoescape),r+='</button>\n                <button type="button" id="savePhotoOrder" class="btn btn-primary photoOrderButton">',r+=a.suppressValue(e.getFilter("i18n").call(t,"mem.ovr.SaveOrder:Save order"),e.opts.autoescape),s(null,r+="</button>\n            </div>\n        </div>\n    </div>\n</div>\n")}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/overlay/photos/photoSortOrder.html"],r)},5504:(e,t,o)=>{var a,s=o(7189);a=s.currentEnv?s.currentEnv:s.currentEnv=new s.Environment([],void 0);o(4065)(a);var r=s.webpackDependencies||(s.webpackDependencies={}),n=o(4459);(s.nunjucksPrecompiled=s.nunjucksPrecompiled||{})["public/templates/partials/overlay/virtualCemeteryList.html"]={root:function(e,t,o,a,s){var r="";try{o=o.push();var n=a.contextOrFrameLookup(t,o,"collection");if(n)for(var l=(n=a.fromIterator(n)).length,p=0;p<n.length;p++){var i=n[p];o.set("vc",i),o.set("loop.index",p+1),o.set("loop.index0",p),o.set("loop.revindex",l-p),o.set("loop.revindex0",l-p-1),o.set("loop.first",0===p),o.set("loop.last",p===l-1),o.set("loop.length",l),r+='\n<li class="checkbox">\n    <label><input type="checkbox" ',a.memberLookup(i,"memberOf")&&(r+='checked="checked" '),r+=' name="virtualcemeteryids" value="',r+=a.suppressValue(a.memberLookup(i,"virtualCemeteryId"),e.opts.autoescape),r+='"><span>\n        ',r+=a.suppressValue(a.memberLookup(i,"name"),e.opts.autoescape),a.memberLookup(i,"isPublic")||(r+=' <span class="icon-lock" title="',r+=a.suppressValue(a.contextOrFrameLookup(t,o,"privateText"),e.opts.autoescape),r+='"></span>'),r+='</span> <span class="text-muted">(',r+=a.suppressValue(e.getFilter("__nf").call(t,{singular:"mem.vc.NumberOfMemorials:{{nf}} memorial",plural:"{{nf}} memorials"},a.memberLookup(i,"memorialCount")),e.opts.autoescape),r+=")</span>\n    </label>\n</li>\n"}o=o.pop(),s(null,r)}catch(e){s(a.handleError(e,0,0))}}},e.exports=n(s,a,s.nunjucksPrecompiled["public/templates/partials/overlay/virtualCemeteryList.html"],r)},3336:e=>{"use strict";e.exports=$}},e=>{e.O(0,[5057],(()=>{e.E(6368),e.E(1474)}),5);e.O(0,[6043,8076,8556,5104,7009,5467,2237,2812,6587,7493,1167,9946,9450],(()=>{return t=7493,e(e.s=t);var t}));e.O()}]);